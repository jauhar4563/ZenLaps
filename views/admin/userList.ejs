<%- include('../Layouts/adminHeader.ejs') %>
        <section class="content-main">
            <div class="content-header">
                <div>
                    <h2 class="content-title card-title">Products List</h2>
                    <p>Lorem ipsum dolor sit amet.</p>
                </div>
                <div>
                    <a href="#" class="btn btn-light rounded font-md">Export</a>
                    <a href="#" class="btn btn-light rounded  font-md">Import</a>
                    <a href="#" class="btn btn-primary btn-sm rounded">Create new</a>
                </div>
            </div>
            <div class="card mb-4">
                
  <div class="card-body">
                   
        <table id="users" class="table">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Status</th>
                <th scope="col">Registration Date</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              <%
                if (users.length > 0) {
                  for (let i = 0; i < users.length; i++) {
                    %>
                    <tr>
                      <td>
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox">
                        </div>
                      </td>
                      <td>
                        <a class="itemside" href="#">
                          <div class="left">
                            <img src="../../Public/userImages/<%= users[i].image %>" class="img-sm img-thumbnail" alt="Item">
                          </div>
                          <div class="info">
                            <h6 class="mb-0"><%= users[i].name %></h6>
                          </div>
                        </a>
                      </td>
                      <td><%= users[i].email %></td>
                      <td>
                        <% if (users[i].is_blocked == 0) { %>
                          <span class="badge rounded-pill alert-success">Active</span>
                        <% } else { %>
                          <span class="badge rounded-pill alert-danger">Blocked</span>
                        <% } %>
                      </td>
                      <td><%= new Date(users[i].createdDate).toLocaleDateString() %></td>
                      <td>
                        <% if (users[i].is_blocked == 0) { %>
                          <a href="/admin/blockUser?id=<%= users[i]._id %>" class="btn btn-sm font-sm rounded btn-brand">
                            <i class="material-icons md-edit"></i> Block
                          </a>
                        <% } else { %>
                          <a href="/admin/blockUser?id=<%= users[i]._id %>" class="btn btn-sm font-sm rounded btn-danger">
                            <i class="material-icons md-edit"></i> Unblock
                          </a>
                        <% } %>
                      </td>
                    </tr>
                    <%
                  }
                } else {
                  %>
                  <tr>
                    <td colspan="6">
                      <p>User not found</p>
                    </td>
                  </tr>
                  <%
                }
              %>
            </tbody>
          </table>
          
                </div> <!-- card-body end// -->
            </div> <!-- card end// -->

        </section> <!-- content-main end// -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
        <script>
            $(document).ready(function () {
                $('#users').DataTable({
                    "lengthMenu": [10, 25, 50, 100], // Specify the number of items per page
                    "pageLength": 10, // Set the default number of items per page
                });
            });
        </script>
        
        <%- include('../Layouts/adminFooter.ejs') %>
